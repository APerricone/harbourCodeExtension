{
    "name": "harbour",
    "displayName": "harbour",
    "description": "Harbour language support for visual studio code",
    "version": "0.4.6",
    "publisher": "aperricone",
    "icon": "harbourIcon.png",
    "main": "./src/extension",
    "repository": {
        "url": "https://github.com/APerricone/harbourCodeExtension"
    },
    "activationEvents": [
        "onLanguage:harbour"
    ],
     "engines": {
        "vscode": "^1.11.0"
    },
    "categories": [
        "Languages",
        "Debuggers",
        "Linters"
    ],
    "dependencies": {
        "vscode-debugprotocol": "^1.18.0-pre.2",
        "vscode-debugadapter": "^1.18.0-pre.4",
        "vscode-languageclient": "^3.3.0"
    },
    "contributes": {
        "configuration": {
            "type": "object",
            "title": "Harbour compiler",
            "properties": {
                "harbour.validating": {
                    "type": "boolean",
                    "description": "Every time a file is opened or saved the executable is called to validate the code(Lint).",
                    "default": true
                    },
                "harbour.compilerExecutable": {
                    "type": "string",
                    "description": "complete path of the harbour executable.",
                    "default": "harbour"
                    },
                "harbour.extraIncludePaths": {
                    "type": "array",
                    "description": "Extra include paths to use during the compilation.",
                    "items": {
                        "type": "string",
                        "default": ""
                        }
                    },
                "harbour.warningLevel": {
                    "type": "number",
                    "default": 1,
                    "maximum": 3,
                    "minimum": 0,
                    "description": "Warning level."
                    }
            }
        },
        "languages": [{
            "id": "harbour",
            "aliases": ["Harbour", "xHarbour", "FlagShip", "Clipper", "xBase"],
            "extensions": ["prg", "ch"],
            "configuration": "./syntaxes/language-configuration.json"
        }],
        "grammars": [{
            "language": "harbour",
            "scopeName": "source.harbour",
            "path": "./syntaxes/harbour.tmLanguage.json",
            "embeddedLanguages": {
                "source.c": "c"
            }
        }],
        "breakpoints": [{"language": "harbour"}],
        "debuggers": [{
            "type": "harbour-dbg",
            "label": "Harbour",
            "program": "./src/debugger.js",
            "runtime": "node",

            "languages": ["harbour"],
            "configurationSnippets": [
                {
                    "label": "Harbour",
                    "description": "Debug a harbour program with debug symbols",
                    "body": {
                        "type": "harbour-dbg",
                        "request": "launch",
                        "name": "${2:Launch ${1:Program}}",
                        "program": "^\"\\${workspaceRoot}/${1:Program}\""
                        }
                } 
            ],
            "configurationAttributes": {
                "launch":{
                    "required": [ "program"],
                    "properties":{
                        "workspaceRoot":{
                            "type": "string",
                            "default": "${workspaceRoot}"  
                        },
                        "program": {
                            "type": "string",
                            "description": "Absolute path of executable."
                        },
                        "workingDir": {
                            "type": "string",
                            "description": "Working directory.",
                            "default": "${workspaceRoot}/"
                        },
                        "arguments":{
                            "type": "array",
                            "description": "arguments to pass to executable.",
                            "items": {
                                "type": "string"
                            }
                        },
                        "stopOnEntry": {
                            "type": "boolean",
                            "description": "Automatically stop after launch.",
                            "default": false
                        }
                    }
                }
            }
        }]
    }
}
