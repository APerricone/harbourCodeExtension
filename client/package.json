{
    "name": "harbour",
    "displayName": "harbour",
    "description": "Harbour language support for visual studio code",
    "version": "0.0.1",
    "publisher": "aperricone",
    "icon": "./harbourIcon.png",
    "main": "./src/extension",
    "activationEvents": [
        "onLanguage:harbour"
    ],
     "engines": {
        "vscode": "^1.11.0"
    },
    "categories": [
        "Languages",
        "Debuggers"
    ],
    "dependencies": {
        "vscode-languageclient": "^2.6.3",
        "vscode-debugprotocol": "^1.18.0-pre.2",
        "vscode-debugadapter": "^1.18.0-pre.4"
    },
    "extensionDependencies": [
        "ms-vscode.cpptools"
    ],
    "contributes": {
        "configuration": {
            "type": "object",
            "title": "Harbour compiler",
            "properties": {
                "harbour.trace.server": {
                  "type": "string",
                  "enum": [
                    "off",
                    "messages",
                    "verbose"
                  ],
                  "default": "off",
                  "description": "Traces the communication between VS Code and the language server."
                },
                "harbour.extraIncludePaths": {
                    "type": "array",
                    "description": "Extra include paths to use during the compilation.",
                    "items": {
                        "type": "string",
                        "default": ""
                        }
                    },
                "harbour.warningLevel": {
                    "type": "number",
                    "default": 1,
                    "maximum": 3,
                    "minimum": 0,
                    "description": "Warning level."
                    }
            }
        },
        "languages": [{
            "id": "harbour",
            "aliases": ["xHarbour", "xBase"],
            "extensions": ["prg", "ch"],
            "configuration": "./syntaxes/language-configuration.json"
        }],
        "grammars": [{
            "language": "harbour",
            "scopeName": "source.harbour",
            "path": "./syntaxes/harbour.tmLanguage.json",
            "embeddedLanguages": {
                "source.c": "c"
            }
        }],
        "breakpoints": [{"language": "harbour"}],
        "debuggers": [
            {
                "type": "harbour-dbg",
                "label": "Harbour",
                "program": "./src/debugger.js",
                "runtime": "node",

                "languages": ["harbour"],
                "configurationSnippets": [
                    {
						"label": "Harbour",
						"description": "Debug a harbour program with debug symbols",
						"body": {
							"type": "harbour-dbg",
							"request": "launch",
							"name": "${2:Launch ${1:Program}}",
							"program": "^\"\\${workspaceRoot}/${1:Program}\""
                            }
                    } 
                ],
                "configurationAttributes": {
                    "launch":{
						"required": [ "program"],
                        "properties":{
                            "workspaceRoot":{
                              "type": "string",
                              "default": "${workspaceRoot}"  
                            },
							"program": {
								"type": "string",
								"description": "Absolute path of executable."
							},
							"workingDir": {
								"type": "string",
								"description": "Working directory.",
								"default": "${workspaceRoot}/"
							},
                            "arguments":{
                                "type": "array",
                                "description": "arguments to pass to executable.",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "stopOnEntry": {
                                "type": "boolean",
                                "description": "Automatically stop after launch.",
                                "default": false
                            }
                        }
                    }
                }
            }
        ]
    }
}
